Materials to build a self contained nix store in an environment with network filesystem where you don't have root access and user namespaces are not switched on.

The main downside of this approach (compared to the proot approach) is that you won't be able to utilize exising nix caches, since they assume that the store is located at /nix/store. Everything will be recompiled from scratch.

Instructions:

1. Set prefix in hpc-nix.nix to the full path of target home directory.
2. run ./build.sh

Environment variables

- set NIX_SSL_CERT_FILE on the target so nix can fetch things over https
- set NIX_PATH=nixpkgs=<location of nixpkgs>
- you may want to set TMPDIR to something other than /tmp (which may be mounted to a small device)